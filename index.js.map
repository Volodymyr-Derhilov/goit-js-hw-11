{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41633304-c06bc91ac11626a6cec46e525';\n\nexport default function searchPhotos(search = '') {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n","export default function createMarkup(arr) {\n  if (!arr.length) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'bottomRight',\n    });\n    return '';\n  }\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class = \"gallery-item\"><a class = \"gallery-link\" href = \"${largeImageURL}\"><img class = \"gallery-image\" src=${webformatURL} alt=\"${tags}\"></a>\n            <div class=\"social-activity\">\n            <ul class=\"social-activity-list\">\n            <li class=\"social-activity-list-item\">Likes <span class=\"number\">${likes}</span></li>\n            <li class=\"social-activity-list-item\">Views <span class=\"number\"> ${views}</span></li>\n            <li class=\"social-activity-list-item\">Comments <span class=\"number\"> ${comments}</span></li>\n            <li class=\"social-activity-list-item\">Downloads <span class=\"number\">${downloads}</span></li>\n            </ul>\n            </div>\n          </li>`\n    )\n    .join('');\n}\n","'use strict';\n\nimport searchPhotos from './js/pixabay-api';\nimport createMarkup from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst list = document.querySelector('.js-list');\nconst button = document.querySelector('.form button');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const { search } = event.target.elements;\n  if (!search) {\n    return;\n  }\n\n  list.innerHTML = '<div class=\"loader\"></div></h1>';\n\n  searchPhotos(search.value)\n    .then(data => {\n      list.innerHTML = createMarkup(data.hits);\n    })\n    .catch(error => {\n      console.log(error);\n      list.innerHTML = '<h1>Something went wrong. Please try again.</h1>';\n    });\n\n  form.reset();\n}\n\nlist.addEventListener('click', event => {\n  event.preventDefault();\n  const elem = event.target;\n  if (!elem.tagName === 'IMG' || event.currentTarget === elem) {\n    return;\n  }\n  const lightbox = new SimpleLightbox('.gallery-item a');\n  lightbox.refresh();\n});\n"],"names":["BASE_URL","API_KEY","searchPhotos","search","params","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","list","handleSubmit","event","data","error","elem","SimpleLightbox"],"mappings":"svBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAED,SAASC,EAAaC,EAAS,GAAI,CAChD,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBe,SAASC,EAAaC,EAAK,CACxC,OAAKA,EAAI,OAQFA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC,gEAAgEL,CAAa,sCAAsCD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA,+EAGrEC,CAAK;AAAA,gFACJC,CAAK;AAAA,mFACFC,CAAQ;AAAA,mFACRC,CAAS;AAAA;AAAA;AAAA,gBAIvF,EACA,KAAK,EAAE,GA7BR,SAAS,MAAM,CACb,QACE,2EACF,SAAU,aAChB,CAAK,EACM,GAyBX,CCrBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,UAAU,EAC/B,SAAS,cAAc,cAAc,EAEpDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,OAAAf,CAAQ,EAAGe,EAAM,OAAO,SAC3Bf,IAILa,EAAK,UAAY,kCAEjBd,EAAaC,EAAO,KAAK,EACtB,KAAKgB,GAAQ,CACZH,EAAK,UAAYV,EAAaa,EAAK,IAAI,CAC7C,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBJ,EAAK,UAAY,kDACvB,CAAK,EAEHD,EAAK,MAAK,EACZ,CAEAC,EAAK,iBAAiB,QAASE,GAAS,CACtCA,EAAM,eAAc,EACpB,MAAMG,EAAOH,EAAM,OACnB,GAAI,CAACG,EAAK,UAAY,OAASH,EAAM,gBAAkBG,EACrD,OAEe,IAAIC,EAAe,iBAAiB,EAC5C,QAAO,CAClB,CAAC"}